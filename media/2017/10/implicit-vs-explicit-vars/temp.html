<temp:page xmlns="http://www.w3.org/1999/xhtml" xmlns:temp="https://schema.egopolis.org">
    <temp:published date="20170713" />
    <temp:tag id="csharp" />
    <temp:tag id="coding-guidelines" />

    <h1>Использование var</h1>

    <temp:todo>В работе</temp:todo>

    <p>
        На ниве стандартов оформления C# кода часто возникают дискуссии о том, стоит
        ли использовать <code>var</code>. Зачастую речь сводится к тому, что использование
        <code>var</code> допустимо, когда из контекста вам понятен тип переменной, например:
    </p>

    <temp:code lang="csharp">
        var users = new List&lt;User&gt;();
    </temp:code>

    <p>
        Если же это не очевидно, как в коде ниже, то стоит прибегать к явному указанию типа.
    </p>

    <temp:code lang="csharp">
        var users = GetUsers();
    </temp:code>

    <p>
        Реально? Кто-то на самом деле спотыкается об эту проблему и испытывает жуткий
        дискомфорт? Я уж не говорю про то, что большинство IDE вам с легкостью подскажут
        эту информацию. А лично я проблему вижу в другом.
    </p>

    <temp:code lang="csharp">
        public int GetUserId() {
            ...
        }

        string id = GetUserId();
    </temp:code>

    <p>
        Этот код скомпилируется без проблем, не смотря на то, что мы получили абсолютно неверную
        информацию о типе, который возвращает функция GetUserId(). Ведь то, что мы написали - не
        операция присвоения. Это - операция implicit conversion.
    </p>

    TODO:MSIL
    
    <p>
        TODO:Не надо мыслить типами объектов. Мыслите интерфейсами. При этом не обязательно, чтобы
        он был задекларирован явно. Складывая два числа вы предполагаете, что они 
    </p>

    <h2>TODO:Hairy variable declarations</h2>
    TODO:Тотальные замены типов id int -> id Guid.
</temp:page>